#!/bin/bash
# 보안 설정 파일 (.env) - 로컬에 저장하고 Git에 커밋하지 마세요!
# 실제 사용 시 모든 비밀번호를 변경하세요

# 안전한 무작위 비밀번호 생성
generate_password() {
  openssl rand -base64 15 | tr -d '/+=' | cut -c1-15
}

cd /srv/lemmy/defadb.com
cat > .env << EOF
# Electron Cash 설정
ELECTRON_CASH_USER=bchrpc
ELECTRON_CASH_PASSWORD=$(generate_password)

# Lemmy 연동 설정
LEMMY_API_KEY=$(generate_password)
LEMMY_ADMIN_USER=admin
LEMMY_ADMIN_PASS=$(generate_password)

# Flask 설정
FLASK_SECRET_KEY=$(generate_password)

# 기타 설정
MOCK_MODE=false
TESTNET=false  # 실제 서비스시 false로 변경
PAYOUT_WALLET=bitcoincash:qr3jejs0qn6wnssw8659duv7c3nnx92f6sfsvam05w
EOF

echo ".env 파일이 생성되었습니다."
echo "보안을 위해 이 파일의 비밀번호를 안전한 곳에 별도로 저장하세요."