@extends("shared/layout.html")
@require(lpform)
@def title():
  Password recovery |\
@end

@def head():
<script src="https://www.google.com/recaptcha/api.js?onload=recaptchaCallback&render=explicit" type="text/javascript"></script>
<script>
var recaptchaCallback = function(){
  grecaptcha.render(document.getElementById('g-recaptcha'), {sitekey: "@{config.RECAPTCHA_PUBLIC_KEY}"});
}
</script>
@end

@def main():
<div id="center-container">
  <div class="content">
    <form  method="POST" action="@{url_for('do.recovery')}" class="ajaxform pure-form pure-form-aligned">
      <h1>Password recovery</h1> @{ lpform.csrf_token() }
      <fieldset>
        <div class="alert div-error"></div>
        <div class="pure-control-group">
          <label for="email">E-mail address</label>
          @{lpform.email(required=True)}
        </div>
        <div class="pure-controls">
          <div id="g-recaptcha"></div>
          <button type="submit" style="margin-top: 4%" class="pure-button pure-button-primary" data-success="Email sent!" data-prog="Processing...">Send recovery email</button>
        </div>
      </fieldset>
    </form>
  </div>
</div>
@end
