{% extends "layout.html" %}
{% block content %}
{{ super() }}
<script>
var recaptchaCallback = function(){
    grecaptcha.render($('.g-recaptcha')[0], {sitekey: $('.g-recaptcha').data().sitekey});
}
</script>
<form id="register-form" class="ajaxform white-popup-block" action="{{url_for('do.register')}}" data-redir="{{url_for('index')}}">
    <div id="the-register-form-itself">
        {{ regform.csrf_token }}
        <h1>Register</h1>
        <p>Registering is free. All you need is a username and password.</p>
        <p>{{regform.username(placeholder=regform.username.label.text, required=True, autofocus=True, pattern="[a-zA-Z0-9_-]+", title="Alphanumeric characters plus '-' and '_'")}}</p>
        <p>{{regform.password(placeholder=regform.password.label.text, required=True, autocomplete="off")}}</p>
        <p>{{regform.confirm(placeholder=regform.confirm.label.text, required=True, autocomplete="off")}}</p>
        <p>{{regform.email(placeholder=regform.email.label.text)}}</p>
        <p>
            {{regform.accept_tos(style="width: auto", required=True)}}
            <a href="{{url_for('tos')}}"><label for="tos">{{regform.accept_tos.label.text}}</label></a>
        </p>
        {{regform.recaptcha}}
        <div class="alert div-error"></div>
        <p><button type="submit" class="btn btn-blue" style="margin-top: 4%" data-prog="Registering..." id="reg-btnsubmit">Register</button></p>
    </div>
</form>
{%endblock%}
