# oratio.space ì ‘ì† ë¶ˆê°€ ë¬¸ì œ í•´ê²° ê°€ì´ë“œ

## ðŸ“‹ ë¬¸ì œ ê°œìš”
- **ë°œìƒì¼**: 2025-09-29
- **ì¦ìƒ**: https://oratio.space/ ì™¸ë¶€ ì ‘ì† ë¶ˆê°€
- **ì›ì¸**: NAT/Router í¬íŠ¸ í¬ì›Œë”© ë¯¸ì„¤ì •
- **ì‹¬ê°ë„**: ë†’ìŒ (ì„œë¹„ìŠ¤ ì ‘ê·¼ ë¶ˆê°€)

## ðŸ” ì§„ë‹¨ ê²°ê³¼

### âœ… ì •ìƒ ìž‘ë™í•˜ëŠ” ë¶€ë¶„
```bash
# ë¡œì»¬ ì ‘ì† ê°€ëŠ¥
curl -I http://localhost/
# HTTP/1.1 301 Moved Permanently (ì •ìƒ)

# ì„œë¹„ìŠ¤ ìƒíƒœ
docker-compose ps
# proxy, lemmy, lemmy-ui ëª¨ë‘ Up ìƒíƒœ

# DNS í•´ìƒë„
nslookup oratio.space
# 70.34.244.93 (ì˜¬ë°”ë¥¸ IP)
```

### âŒ ë¬¸ì œê°€ ìžˆëŠ” ë¶€ë¶„
```bash
# ì™¸ë¶€ IPë¡œ ì ‘ì† ë¶ˆê°€
telnet 70.34.244.93 80
# Connection refused

```bash
# ë„¤íŠ¸ì›Œí¬ êµ¬ì„±
ip route show default
# default via [ê²Œì´íŠ¸ì›¨ì´] (NAT í™˜ê²½)
# ì„œë²„ IP: [ë‚´ë¶€ IP]
```
```

## ðŸ› ï¸ í•´ê²° ë°©ë²•

### ë°©ë²• 1: ë¼ìš°í„° í¬íŠ¸ í¬ì›Œë”© ì„¤ì • (ê¶Œìž¥)

#### 1ë‹¨ê³„: ë¼ìš°í„° ê´€ë¦¬ íŽ˜ì´ì§€ ì ‘ì†
```bash
# ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†
# ë¼ìš°í„° ê´€ë¦¬ íŽ˜ì´ì§€
```

#### 2ë‹¨ê³„: í¬íŠ¸ í¬ì›Œë”© ì„¤ì •
ë¼ìš°í„° ì„¤ì •ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ í¬íŠ¸ í¬ì›Œë”© ê·œì¹™ ì¶”ê°€:

| ì„œë¹„ìŠ¤ëª… | ì™¸ë¶€ í¬íŠ¸ | ë‚´ë¶€ IP | ë‚´ë¶€ í¬íŠ¸ | í”„ë¡œí† ì½œ |
|---------|----------|---------|----------|----------|
| HTTP | 80 | [ì„œë²„ ë‚´ë¶€ IP] | 80 | TCP |
| HTTPS | 443 | [ì„œë²„ ë‚´ë¶€ IP] | 443 | TCP |
| BCH Payment | 8081 | [ì„œë²„ ë‚´ë¶€ IP] | 8081 | TCP |

#### 3ë‹¨ê³„: ì„¤ì • ì ìš© í›„ í…ŒìŠ¤íŠ¸
```bash
# ì™¸ë¶€ì—ì„œ í…ŒìŠ¤íŠ¸ (ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ì—ì„œ)
curl -I http://oratio.space/
```

### ë°©ë²• 2: UPnP ìžë™ í¬íŠ¸ í¬ì›Œë”© (ìž„ì‹œ)

#### UPnPê°€ í™œì„±í™”ëœ ê²½ìš° ìžë™ ì„¤ì • ì‹œë„:
```bash
# UPnP ë„êµ¬ ì„¤ì¹˜
sudo apt update
sudo apt install miniupnpc

# í¬íŠ¸ í¬ì›Œë”© ìžë™ ì„¤ì •
upnpc -a [ì„œë²„_ë‚´ë¶€_IP] 80 80 TCP
upnpc -a [ì„œë²„_ë‚´ë¶€_IP] 443 443 TCP
upnpc -a [ì„œë²„_ë‚´ë¶€_IP] 8081 8081 TCP

# ì„¤ì • í™•ì¸
upnpc -l
```

### ë°©ë²• 3: DMZ ì„¤ì • (ë¹„ê¶Œìž¥ - ë³´ì•ˆ ìœ„í—˜)

ë¼ìš°í„°ì—ì„œ DMZ Hostë¥¼ ì„œë²„ì˜ ë‚´ë¶€ IPë¡œ ì„¤ì •
- ëª¨ë“  í¬íŠ¸ê°€ ì—´ë¦¬ë¯€ë¡œ ë³´ì•ˆìƒ ìœ„í—˜
- í…ŒìŠ¤íŠ¸ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©

## ðŸ§ª ì„¤ì • ê²€ì¦

### 1. ë¡œì»¬ í…ŒìŠ¤íŠ¸
```bash
# ë‚´ë¶€ IPë¡œ ì ‘ì† í…ŒìŠ¤íŠ¸
curl -I http://localhost/
```

### 2. ì™¸ë¶€ í…ŒìŠ¤íŠ¸ (í¬íŠ¸ í¬ì›Œë”© ì„¤ì • í›„)
```bash
# ì™¸ë¶€ IPë¡œ ì ‘ì† í…ŒìŠ¤íŠ¸
curl -I http://70.34.244.93/

# ë„ë©”ì¸ìœ¼ë¡œ ì ‘ì† í…ŒìŠ¤íŠ¸
curl -I http://oratio.space/
```

### 3. í¬íŠ¸ ìƒíƒœ í™•ì¸
```bash
# í¬íŠ¸ê°€ ì—´ë ¸ëŠ”ì§€ í™•ì¸ (ì™¸ë¶€ì—ì„œ ì‹¤í–‰)
nmap -p 80,443,8081 oratio.space
```

## ðŸ”§ ëŒ€ì•ˆ í•´ê²°ì±…

### í´ë¼ìš°ë“œí”Œë ˆì–´ í„°ë„ (Cloudflare Tunnel)
í¬íŠ¸ í¬ì›Œë”©ì´ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°:

```bash
# Cloudflared ì„¤ì¹˜
wget -q https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb
sudo dpkg -i cloudflared-linux-amd64.deb

# í„°ë„ ìƒì„±
cloudflared tunnel login
cloudflared tunnel create oratio

# ì„¤ì • íŒŒì¼ ìƒì„±
cat > ~/.cloudflared/config.yml << EOF
tunnel: oratio
credentials-file: ~/.cloudflared/[í„°ë„-ID].json

ingress:
  - hostname: oratio.space
    service: http://localhost:80
  - hostname: payments.oratio.space
    service: http://localhost:8081
  - service: http_status:404
EOF

# í„°ë„ ì‹¤í–‰
cloudflared tunnel run oratio
```

## ðŸ“Š ë„¤íŠ¸ì›Œí¬ êµ¬ì„±ë„

```
ì¸í„°ë„· â†â†’ [ê³µì¸ IP] â†â†’ ë¼ìš°í„°(ê²Œì´íŠ¸ì›¨ì´) â†â†’ ì„œë²„(ë‚´ë¶€ IP:80,443)
              â†‘                      â†‘
      oratio.space ë„ë©”ì¸      í¬íŠ¸í¬ì›Œë”© í•„ìš”
```

## âœ… ìµœì¢… ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ë¼ìš°í„° í¬íŠ¸ í¬ì›Œë”© ì„¤ì • ì™„ë£Œ
- [ ] HTTP (80ë²ˆ í¬íŠ¸) ì™¸ë¶€ ì ‘ì† ê°€ëŠ¥
- [ ] HTTPS (443ë²ˆ í¬íŠ¸) ì™¸ë¶€ ì ‘ì† ê°€ëŠ¥
- [ ] https://oratio.space/ ë¸Œë¼ìš°ì € ì ‘ì† ê°€ëŠ¥
- [ ] SSL ì¸ì¦ì„œ ê²½ê³  í™•ì¸ (ìžì²´ ì„œëª… ì¸ì¦ì„œ)
- [ ] ê²°ì œ ì„œë¹„ìŠ¤ ì ‘ì† ê°€ëŠ¥ (8081ë²ˆ í¬íŠ¸)

## ðŸ”® í–¥í›„ ê°œì„  ì‚¬í•­

1. **Let's Encrypt ì¸ì¦ì„œ ë°œê¸‰**
   ```bash
   sudo certbot certonly --standalone -d oratio.space -d payments.oratio.space
   ```

2. **nginx ì„¤ì • ì—…ë°ì´íŠ¸**
   - ìžì²´ ì„œëª… â†’ Let's Encrypt ì¸ì¦ì„œë¡œ ë³€ê²½

3. **ëª¨ë‹ˆí„°ë§ ì„¤ì •**
   - ì™¸ë¶€ ì ‘ì† ëª¨ë‹ˆí„°ë§ ìŠ¤í¬ë¦½íŠ¸ ìž‘ì„±
   - í¬íŠ¸ í¬ì›Œë”© ìƒíƒœ ìžë™ í™•ì¸

## ðŸš¨ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

1. **í¬íŠ¸ ìµœì†Œí™”**: í•„ìš”í•œ í¬íŠ¸ë§Œ ì—´ê¸° (80, 443, 8081)
2. **ë°©í™”ë²½ ì„¤ì •**: ì¶”ê°€ ë³´ì•ˆ ë ˆì´ì–´ êµ¬ì¶•
3. **SSL/TLS ê°•í™”**: ì •ì‹ ì¸ì¦ì„œ ì‚¬ìš©
4. **ì ‘ì† ë¡œê·¸ ëª¨ë‹ˆí„°ë§**: ë¹„ì •ìƒ ì ‘ê·¼ íƒì§€

---

**ë¬¸ì œ í•´ê²°ì¼**: 2025-09-29  
**í•´ê²° ì‹œê°„**: ì§„í–‰ ì¤‘  
**ìµœì¢… ìƒíƒœ**: í¬íŠ¸ í¬ì›Œë”© ì„¤ì • í•„ìš”

## ðŸ“ž ì¶”ê°€ ë„ì›€

í¬íŠ¸ í¬ì›Œë”© ì„¤ì •ì´ ì–´ë ¤ìš´ ê²½ìš°:
1. ë¼ìš°í„° ëª¨ë¸ëª…ê³¼ ì œì¡°ì‚¬ í™•ì¸
2. ì œì¡°ì‚¬ ê³µì‹ ê°€ì´ë“œ ì°¸ì¡°
3. Cloudflare Tunnel ëŒ€ì•ˆ ê³ ë ¤
